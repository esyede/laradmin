(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-647d4b2e"],{"121f":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-content",{attrs:{center:""}},[r("lz-form",{attrs:{"get-data":e.getData,submit:e.onSubmit,form:e.form,errors:e.errors},on:{"update:form":function(t){e.form=t},"update:errors":function(t){e.errors=t}}},[r("lz-form-item",{attrs:{label:"Parent",prop:"parent_id"}},[r("a-select",{attrs:{"show-search":"","option-filter-prop":"title","option-label-prop":"title"},model:{value:e.form.parent_id,callback:function(t){e.$set(e.form,"parent_id",t)},expression:"form.parent_id"}},e._l(e.vueRouterOptions,(function(t){return r("a-select-option",{key:t.id,attrs:{title:t.title}},[e._v(" "+e._s(t.text)+" ")])})),1)],1),r("lz-form-item",{attrs:{label:"Title",required:"",prop:"title"}},[r("a-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("lz-form-item",{attrs:{label:"Path",prop:"path",tip:e.pathTip}},[r("a-auto-complete",{attrs:{"data-source":e.pathOptions},on:{search:e.onPathSearch},model:{value:e.form.path,callback:function(t){e.$set(e.form,"path",t)},expression:"form.path"}})],1),r("lz-form-item",{staticClass:"icon-item",attrs:{label:"Icon",prop:"icon",tip:"Only the top-level menu will show the icon"}},[r("a-input",{model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[r("a-select",{staticStyle:{width:"60px"},attrs:{slot:"addonBefore"},slot:"addonBefore",model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},e._l(e.icons,(function(e){return r("a-select-option",{key:e,attrs:{value:e}},[r("svg-icon",{attrs:{"icon-class":e}})],1)})),1),r("svg-icon",{staticStyle:{width:"20px"},attrs:{slot:"addonAfter","icon-class":e.form.icon||"cog-fill"},slot:"addonAfter"})],1)],1),r("lz-form-item",{attrs:{label:"Order",prop:"order"}},[r("a-input-number",{attrs:{min:-9999,max:9999},model:{value:e.form.order,callback:function(t){e.$set(e.form,"order",t)},expression:"form.order"}})],1),r("lz-form-item",{attrs:{label:"Show In Menu",prop:"menu"}},[r("a-switch",{model:{value:e.form.menu,callback:function(t){e.$set(e.form,"menu",t)},expression:"form.menu"}})],1),r("lz-form-item",{attrs:{label:"Cache",prop:"cache"}},[r("a-switch",{model:{value:e.form.cache,callback:function(t){e.$set(e.form,"cache",t)},expression:"form.cache"}})],1),r("lz-form-item",{attrs:{label:"Role",prop:"roles"}},[r("a-select",{attrs:{mode:"multiple",placeholder:"Choose..","allow-clear":"","show-search":"","option-filter-prop":"name"},model:{value:e.form.roles,callback:function(t){e.$set(e.form,"roles",t)},expression:"form.roles"}},e._l(e.roles,(function(t){return r("a-select-option",{key:t.id,attrs:{name:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),r("lz-form-item",{attrs:{label:"Permission",prop:"permission"}},[r("a-select",{attrs:{placeholder:"Choose..","allow-clear":"","show-search":"","option-filter-prop":"name"},model:{value:e.form.permission,callback:function(t){e.$set(e.form,"permission",t)},expression:"form.permission"}},e._l(e.permissions,(function(t){return r("a-select-option",{key:t.slug,attrs:{name:t.name}},[e._v(" "+e._s(t.name)+" ")])})),1)],1)],1)],1)},o=[],a=r("1da1"),i=(r("96cf"),r("4e82"),r("b64b"),r("45fc"),r("d3b7"),r("498a"),r("4de4"),r("c975"),r("c71c")),s=r("62e3"),c=r("8cb2"),u=r("c001"),l=r("cd7f"),f=r("5bfd"),m=r("f771"),p=Object.keys(f["a"]).sort(),d={name:"Form",components:{PageContent:u["a"],LzForm:s["a"],LzFormItem:c["a"]},data:function(){return{form:{parent_id:0,title:"",path:"",icon:"",order:0,cache:!1,menu:!1,roles:[],permission:""},errors:{},vueRouters:[],roles:[],permissions:[],pathOptions:p,pathTip:"There are three types of addresses:\n1: The full url starting with http will open in a new window;\n2: Starting with a slash '/' will not match the generated routing configuration, generally used to open urls with different parameters of other routes;\n3: Others will match components and generate routing configurations。"}},computed:{vueRouterOptions:function(){return Object(m["o"])(this.vueRouters)},icons:function(){return l["a"]}},methods:{queryParentId:function(){var e=Object(m["x"])(this.$route.query.parent_id);return this.vueRouterOptions.some((function(t){return t.id===e}))?e:0},getData:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var n,o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.realEditMode){r.next=7;break}return r.next=3,Object(i["c"])(e.resourceId);case 3:o=r.sent,n=o.data,r.next=11;break;case 7:return r.next=9,Object(i["a"])();case 9:a=r.sent,n=a.data;case 11:return t.vueRouters=n.vue_routers,!t.editMode&&(t.form.parent_id=t.queryParentId()),t.roles=n.roles,t.permissions=n.permissions,r.abrupt("return",n.data);case 16:case"end":return r.stop()}}),r)})))()},onSubmit:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e.realEditMode){r.next=5;break}return r.next=3,Object(i["g"])(e.resourceId,t.form);case 3:r.next=7;break;case 5:return r.next=7,Object(i["f"])(t.form);case 7:case"end":return r.stop()}}),r)})))()},onPathSearch:function(e){e=e.trim(),this.pathOptions=p.filter((function(t){return-1!==t.indexOf(e)}))}}},h=d,b=r("2877"),v=Object(b["a"])(h,n,o,!1,null,null,null);t["default"]=v.exports},"498a":function(e,t,r){"use strict";var n=r("23e7"),o=r("58a8").trim,a=r("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return o(this)}})},c001:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"content-header"},[r("span",{staticClass:"title"},[e._v(e._s(e.realName))]),r("div",{staticClass:"flex-spacer"}),r("div",[e._t("actions")],2)]),r("div",{class:{center:e.center}},[e._t("default")],2)])},o=[],a=r("5530"),i=r("2f62"),s=r("4416"),c=r.n(s),u={name:"PageContent",props:{title:String,center:Boolean},computed:Object(a["a"])(Object(a["a"])({},Object(i["c"])({matchedMenusChain:function(e){return e.matchedMenusChain}})),{},{realName:function(){var e,t;if(this.title)return this.title;var r="";return this.matchedMenusChain.length&&(r=c()(this.matchedMenusChain).title),r||(null===(e=this.$route)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.title)||""}})},l=u,f=(r("c402"),r("2877")),m=Object(f["a"])(l,n,o,!1,null,"4e857efe",null);t["a"]=m.exports},c402:function(e,t,r){"use strict";r("cf86")},c71c:function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"b",(function(){return i})),r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return c})),r.d(t,"h",(function(){return u})),r.d(t,"a",(function(){return l})),r.d(t,"e",(function(){return f}));var n=r("f3e5");function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n["b"].get("vue-routers",{params:e})}function a(e){return n["b"].post("vue-routers",e)}function i(e){return n["b"]["delete"]("vue-routers/".concat(e))}function s(e,t){return n["b"].put("vue-routers/".concat(e),t)}function c(e){return n["b"].get("vue-routers/".concat(e,"/edit"))}function u(e){return n["b"].put("vue-routers",e)}function l(){return n["b"].get("vue-routers/create")}function f(e){return n["b"].post("vue-routers/by-import",e)}},c8d2:function(e,t,r){var n=r("5e77").PROPER,o=r("d039"),a=r("5899"),i="​᠎";e.exports=function(e){return o((function(){return!!a[e]()||i[e]()!==i||n&&a[e].name!==e}))}},cf86:function(e,t,r){}}]);
//# sourceMappingURL=chunk-647d4b2e.c0a495af.js.map