{"version":3,"sources":["webpack:///./resources/js/admin/views/admin-users/EditProfile.vue?5900","webpack:///resources/js/admin/views/admin-users/EditProfile.vue","webpack:///./resources/js/admin/views/admin-users/EditProfile.vue?8670","webpack:///./resources/js/admin/views/admin-users/EditProfile.vue","webpack:///./resources/js/admin/components/LzForm/FilePicker.vue?40f3","webpack:///resources/js/admin/components/LzForm/FilePicker.vue","webpack:///./resources/js/admin/components/LzForm/FilePicker.vue?ab3c","webpack:///./resources/js/admin/components/LzForm/FilePicker.vue","webpack:///./resources/js/admin/components/LzForm/FilePicker.vue?2b97","webpack:///./resources/js/admin/components/LzForm/FilePicker.vue?d36f"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","getData","onSubmit","errors","form","on","$event","profile","username","model","value","callback","$$v","$set","expression","_l","i","key","_v","_s","staticRenderFns","components","FilePicker","PageContent","LzForm","LzFormItem","data","name","avatar","password","password_confirmation","methods","editUser","updateUser","component","staticClass","item","stopPropagation","onReplace","remove","directives","rawName","isMax","onPick","pickerIcon","title","dialog","mediaMultiple","ext","scopedSlots","_u","fn","media","anySelected","onPickConfirm","selected","LzPopconfirm","FilePreview","SystemMedia","inject","lzFormItem","default","formattedValue","pickIndex","props","multiple","max","type","valueFields","flatValue","computed","canPick","isReplace","miniWidth","$store","state","arrayValue","Array","isArray","concat","$emit","$refs","clearSelected","formatReturn","fields","length","index","splice","watch","newVal"],"mappings":"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","file":"js/chunk-4fc2d856.6c49de38.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('page-content',{attrs:{\"center\":\"\"}},[_c('lz-form',{ref:\"form\",attrs:{\"get-data\":_vm.getData,\"submit\":_vm.onSubmit,\"errors\":_vm.errors,\"form\":_vm.form,\"disable-stay\":\"\",\"disable-redirect\":\"\",\"edit-mode\":\"\"},on:{\"update:errors\":function($event){_vm.errors=$event},\"update:form\":function($event){_vm.form=$event}}},[_c('lz-form-item',{attrs:{\"label\":\"Username\"}},[_c('a-input',{attrs:{\"value\":_vm.profile.username,\"read-only\":\"\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"Fullname\",\"required\":\"\",\"prop\":\"name\"}},[_c('a-input',{model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"Avatar\",\"prop\":\"avatar\"}},[_c('file-picker',{attrs:{\"ext\":\"jpg,gif,png,jpeg\"},model:{value:(_vm.form.avatar),callback:function ($$v) {_vm.$set(_vm.form, \"avatar\", $$v)},expression:\"form.avatar\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"Password\",\"prop\":\"password\"}},[_c('a-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password),callback:function ($$v) {_vm.$set(_vm.form, \"password\", $$v)},expression:\"form.password\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"Re-type Password\",\"prop\":\"password_confirmation\"}},[_c('a-input',{attrs:{\"type\":\"password\"},model:{value:(_vm.form.password_confirmation),callback:function ($$v) {_vm.$set(_vm.form, \"password_confirmation\", $$v)},expression:\"form.password_confirmation\"}})],1),_c('lz-form-item',{attrs:{\"label\":\"Role\"}},_vm._l((_vm.profile.roles),function(i){return _c('a-tag',{key:i,attrs:{\"color\":\"blue\"}},[_vm._v(_vm._s(i))])}),1),_c('lz-form-item',{attrs:{\"label\":\"Permission\"}},_vm._l((_vm.profile.permissions),function(i){return _c('a-tag',{key:i,attrs:{\"color\":\"blue\"}},[_vm._v(_vm._s(i))])}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <page-content center>\n    <lz-form\n      ref=\"form\"\n      :get-data=\"getData\"\n      :submit=\"onSubmit\"\n      :errors.sync=\"errors\"\n      :form.sync=\"form\"\n      disable-stay\n      disable-redirect\n      edit-mode\n    >\n      <lz-form-item label=\"Username\">\n        <a-input :value=\"profile.username\" read-only/>\n      </lz-form-item>\n      <lz-form-item label=\"Fullname\" required prop=\"name\">\n        <a-input v-model=\"form.name\"/>\n      </lz-form-item>\n      <lz-form-item label=\"Avatar\" prop=\"avatar\">\n        <file-picker\n          v-model=\"form.avatar\"\n          ext=\"jpg,gif,png,jpeg\"\n        />\n      </lz-form-item>\n      <lz-form-item label=\"Password\" prop=\"password\">\n        <a-input type=\"password\" v-model=\"form.password\"/>\n      </lz-form-item>\n      <lz-form-item label=\"Re-type Password\" prop=\"password_confirmation\">\n        <a-input type=\"password\" v-model=\"form.password_confirmation\"/>\n      </lz-form-item>\n      <lz-form-item label=\"Role\">\n        <a-tag v-for=\"i of profile.roles\" color=\"blue\" :key=\"i\">{{ i }}</a-tag>\n      </lz-form-item>\n      <lz-form-item label=\"Permission\">\n        <a-tag v-for=\"i of profile.permissions\" color=\"blue\" :key=\"i\">{{ i }}</a-tag>\n      </lz-form-item>\n    </lz-form>\n  </page-content>\n</template>\n\n<script>\nimport { editUser, updateUser } from '@/api/admin-users'\nimport LzForm from '@c/LzForm'\nimport LzFormItem from '@c/LzForm/LzFormItem'\nimport PageContent from '@c/PageContent'\nimport FilePicker from '@c/LzForm/FilePicker'\n\nexport default {\n  components: {\n    FilePicker,\n    PageContent,\n    LzForm,\n    LzFormItem,\n  },\n  data() {\n    return {\n      form: {\n        name: '',\n        avatar: '',\n        password: '',\n        password_confirmation: '',\n      },\n      profile: {},\n      errors: {},\n    }\n  },\n  methods: {\n    async getData() {\n      const { data } = await editUser()\n      this.profile = data\n      return data\n    },\n    async onSubmit() {\n      const { data } = await updateUser(this.form)\n      this.$store.commit('SET_USER', data)\n      this.form = Object.assign({}, this.form, {\n        password: '',\n        password_confirmation: '',\n      })\n    },\n  },\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditProfile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditProfile.vue?vue&type=template&id=13c1147f&\"\nimport script from \"./EditProfile.vue?vue&type=script&lang=js&\"\nexport * from \"./EditProfile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-picker\"},[_c('div',{staticClass:\"file-wrapper\"},[_vm._l((_vm.arrayValue),function(item,i){return _c('file-preview',{key:i,staticClass:\"preview file-item\",attrs:{\"file\":item}},[_c('a-icon',{staticClass:\"replace\",attrs:{\"type\":\"sync\",\"title\":\"Replace\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.onReplace(i)}}}),_c('lz-popconfirm',{attrs:{\"title\":\"Delete this data?\",\"confirm\":function () { return _vm.remove(i); }}},[_c('a-icon',{staticClass:\"remove\",attrs:{\"type\":\"delete\",\"title\":\"Delete\"}})],1)],1)}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMax),expression:\"!isMax\"}],staticClass:\"picker file-item flex-box\",on:{\"click\":_vm.onPick}},[_c('svg-icon',{staticClass:\"file-icon\",attrs:{\"icon-class\":_vm.pickerIcon}})],1)],2),_c('a-modal',{attrs:{\"title\":_vm.title,\"width\":\"90%\",\"footer\":null,\"wrap-class-name\":\"system-media-dialog\"},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('system-media',{ref:\"media\",attrs:{\"default-multiple\":_vm.mediaMultiple,\"default-ext\":_vm.ext},scopedSlots:_vm._u([{key:\"actions\",fn:function(media){return [_c('a-button',{attrs:{\"type\":\"primary\",\"disabled\":!media.anySelected},on:{\"click\":function($event){return _vm.onPickConfirm(media.selected)}}},[_vm._v(\" Selected \")])]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"file-picker\">\n    <div class=\"file-wrapper\">\n      <file-preview\n        class=\"preview file-item\"\n        v-for=\"(item, i) of arrayValue\"\n        :key=\"i\"\n        :file=\"item\"\n      >\n        <a-icon\n          class=\"replace\"\n          type=\"sync\"\n          title=\"Replace\"\n          @click.stop=\"onReplace(i)\"\n        />\n        <lz-popconfirm title=\"Delete this data?\" :confirm=\"() => remove(i)\">\n          <a-icon\n            class=\"remove\"\n            type=\"delete\"\n            title=\"Delete\"\n          />\n        </lz-popconfirm>\n      </file-preview>\n\n      <div\n        v-show=\"!isMax\"\n        class=\"picker file-item flex-box\"\n        @click=\"onPick\"\n      >\n        <svg-icon class=\"file-icon\" :icon-class=\"pickerIcon\"/>\n      </div>\n    </div>\n\n    <a-modal\n      :title=\"title\"\n      v-model=\"dialog\"\n      width=\"90%\"\n      :footer=\"null\"\n      wrap-class-name=\"system-media-dialog\"\n    >\n      <system-media\n        ref=\"media\"\n        :default-multiple=\"mediaMultiple\"\n        :default-ext=\"ext\"\n      >\n        <template #actions=\"media\">\n          <a-button\n            type=\"primary\"\n            :disabled=\"!media.anySelected\"\n            @click=\"onPickConfirm(media.selected)\"\n          >\n            Selected\n          </a-button>\n        </template>\n      </system-media>\n    </a-modal>\n  </div>\n</template>\n\n<script>\nimport SystemMedia from '@c/SystemMedia/index'\nimport FilePreview from '@c/FilePreview'\nimport _pick from 'lodash/pick'\nimport LzPopconfirm from '@c/LzPopconfirm'\n\nexport default {\n  name: 'FilePicker',\n  components: {\n    LzPopconfirm,\n    FilePreview,\n    SystemMedia,\n  },\n  inject: {\n    lzFormItem: {\n      default: null,\n    },\n  },\n  data() {\n    return {\n      dialog: false,\n      formattedValue: null,\n      pickIndex: -1,\n    }\n  },\n  props: {\n    multiple: Boolean,\n    max: {\n      type: [String, Number],\n      default: 8,\n    },\n    title: {\n      type: String,\n      default() {\n        return this.lzFormItem?.label || 'Choose file'\n      },\n    },\n    value: null,\n    ext: String,\n    valueFields: {\n      type: String,\n      default: 'path',\n    },\n    flatValue: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  computed: {\n    pickerIcon() {\n      return this.multiple ? 'multi-file' : 'single-file'\n    },\n    canPick() {\n      return !this.isMax || this.isReplace\n    },\n    isMax() {\n      return (this.multiple && this.value.length >= this.max) ||\n        (!this.multiple && this.value)\n    },\n    isReplace() {\n      return this.pickIndex !== -1\n    },\n    miniWidth() {\n      return this.$store.state.miniWidth\n    },\n    arrayValue() {\n      if (!this.value) {\n        return []\n      }\n\n      return Array.isArray(this.value) ? this.value : [this.value]\n    },\n    mediaMultiple() {\n      return this.isReplace ? false : this.multiple\n    },\n  },\n  methods: {\n    onPick() {\n      if (!this.canPick) {\n        return\n      }\n\n      this.dialog = true\n    },\n    onPickConfirm(selected) {\n      selected = selected.map(this.formatReturn)\n      let value\n      if (this.multiple) {\n        if (this.isReplace) {\n          value = this.value\n          value[this.pickIndex] = selected[0]\n        } else {\n          value = this\n            .value\n            .concat(selected.slice(0, this.max - this.value.length))\n        }\n      } else {\n        value = selected[0]\n      }\n\n      this.$emit('input', value)\n      this.$refs.media.clearSelected()\n      this.dialog = false\n    },\n    formatReturn(value) {\n      let fields = this.valueFields ? this.valueFields.split(',') : []\n      if (fields.length === 0) {\n        value = { ...value }\n      } else {\n        fields.push('path')\n        value = _pick(value, fields)\n      }\n\n      fields = [...new Set(fields)]\n      if (this.flatValue && fields.length === 1) {\n        return value[fields[0]]\n      } else {\n        return value\n      }\n    },\n    remove(index) {\n      if (this.multiple) {\n        this.value.splice(index, 1)\n      } else {\n        this.$emit('input', null)\n      }\n    },\n    onReplace(index) {\n      this.pickIndex = index\n      this.onPick()\n    },\n  },\n  watch: {\n    dialog(newVal) {\n      if (!newVal) {\n        this.pickIndex = -1\n      }\n    },\n  },\n}\n</script>\n\n<style scoped lang=\"less\">\n@import \"~@/styles/vars\";\n\n.file-wrapper {\n  display: flex;\n  flex-wrap: wrap;\n}\n\n.picker {\n  cursor: pointer;\n}\n\n.file-item {\n  width: 100px;\n  height: 100px;\n  min-width: 100px;\n  min-height: 100px;\n  border: @border-base;\n  border-radius: @border-radius-base;\n  color: @border-color-base;\n  margin: 0 5px 5px 0;\n  transition: all .3s;\n\n  &:hover {\n    border-color: @input-hover-border-color;\n    color: @info-color;\n  }\n\n  .file-icon {\n    width: 50px;\n    height: 50px;\n  }\n}\n\n.remove {\n  color: @error-color;\n}\n\n.replace {\n  color: @primary-color;\n}\n</style>\n\n<style lang=\"less\">\n.system-media-dialog {\n  .ant-modal {\n    max-width: 848px;\n  }\n}\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilePicker.vue?vue&type=template&id=ba7273f8&scoped=true&\"\nimport script from \"./FilePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./FilePicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./FilePicker.vue?vue&type=style&index=0&id=ba7273f8&scoped=true&lang=less&\"\nimport style1 from \"./FilePicker.vue?vue&type=style&index=1&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba7273f8\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=0&id=ba7273f8&scoped=true&lang=less&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilePicker.vue?vue&type=style&index=1&lang=less&\""],"sourceRoot":""}