(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4fc2d856"],{"0047":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-content",{attrs:{center:""}},[a("lz-form",{ref:"form",attrs:{"get-data":e.getData,submit:e.onSubmit,errors:e.errors,form:e.form,"disable-stay":"","disable-redirect":"","edit-mode":""},on:{"update:errors":function(t){e.errors=t},"update:form":function(t){e.form=t}}},[a("lz-form-item",{attrs:{label:"Username"}},[a("a-input",{attrs:{value:e.profile.username,"read-only":""}})],1),a("lz-form-item",{attrs:{label:"Fullname",required:"",prop:"name"}},[a("a-input",{model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("lz-form-item",{attrs:{label:"Avatar",prop:"avatar"}},[a("file-picker",{attrs:{ext:"jpg,gif,png,jpeg"},model:{value:e.form.avatar,callback:function(t){e.$set(e.form,"avatar",t)},expression:"form.avatar"}})],1),a("lz-form-item",{attrs:{label:"Password",prop:"password"}},[a("a-input",{attrs:{type:"password"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("lz-form-item",{attrs:{label:"Re-type Password",prop:"password_confirmation"}},[a("a-input",{attrs:{type:"password"},model:{value:e.form.password_confirmation,callback:function(t){e.$set(e.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1),a("lz-form-item",{attrs:{label:"Role"}},e._l(e.profile.roles,(function(t){return a("a-tag",{key:t,attrs:{color:"blue"}},[e._v(e._s(t))])})),1),a("lz-form-item",{attrs:{label:"Permission"}},e._l(e.profile.permissions,(function(t){return a("a-tag",{key:t,attrs:{color:"blue"}},[e._v(e._s(t))])})),1)],1)],1)},r=[],n=a("1da1"),s=(a("96cf"),a("3a02")),o=a("62e3"),l=a("8cb2"),c=a("c001"),u=a("3f36"),f={components:{FilePicker:u["a"],PageContent:c["a"],LzForm:o["a"],LzFormItem:l["a"]},data:function(){return{form:{name:"",avatar:"",password:"",password_confirmation:""},profile:{},errors:{}}},methods:{getData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["d"])();case 2:return a=t.sent,i=a.data,e.profile=i,t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})))()},onSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(s["i"])(e.form);case 2:a=t.sent,i=a.data,e.$store.commit("SET_USER",i),e.form=Object.assign({},e.form,{password:"",password_confirmation:""});case 6:case"end":return t.stop()}}),t)})))()}}},m=f,p=a("2877"),d=Object(p["a"])(m,i,r,!1,null,null,null);t["default"]=d.exports},"1b23":function(e,t,a){},"3f36":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"file-picker"},[a("div",{staticClass:"file-wrapper"},[e._l(e.arrayValue,(function(t,i){return a("file-preview",{key:i,staticClass:"preview file-item",attrs:{file:t}},[a("a-icon",{staticClass:"replace",attrs:{type:"sync",title:"Replace"},on:{click:function(t){return t.stopPropagation(),e.onReplace(i)}}}),a("lz-popconfirm",{attrs:{title:"Delete this data?",confirm:function(){return e.remove(i)}}},[a("a-icon",{staticClass:"remove",attrs:{type:"delete",title:"Delete"}})],1)],1)})),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.isMax,expression:"!isMax"}],staticClass:"picker file-item flex-box",on:{click:e.onPick}},[a("svg-icon",{staticClass:"file-icon",attrs:{"icon-class":e.pickerIcon}})],1)],2),a("a-modal",{attrs:{title:e.title,width:"90%",footer:null,"wrap-class-name":"system-media-dialog"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("system-media",{ref:"media",attrs:{"default-multiple":e.mediaMultiple,"default-ext":e.ext},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("a-button",{attrs:{type:"primary",disabled:!t.anySelected},on:{click:function(a){return e.onPickConfirm(t.selected)}}},[e._v(" Selected ")])]}}])})],1)],1)},r=[],n=a("2909"),s=a("5530"),o=(a("a9e3"),a("277d"),a("d81d"),a("99af"),a("fb6a"),a("ac1f"),a("1276"),a("d3b7"),a("6062"),a("3ca3"),a("ddb0"),a("a434"),a("30df")),l=a("41d8"),c=a("2593"),u=a.n(c),f=a("eff2"),m={name:"FilePicker",components:{LzPopconfirm:f["a"],FilePreview:l["a"],SystemMedia:o["a"]},inject:{lzFormItem:{default:null}},data:function(){return{dialog:!1,formattedValue:null,pickIndex:-1}},props:{multiple:Boolean,max:{type:[String,Number],default:8},title:{type:String,default:function(){var e;return(null===(e=this.lzFormItem)||void 0===e?void 0:e.label)||"Choose file"}},value:null,ext:String,valueFields:{type:String,default:"path"},flatValue:{type:Boolean,default:!0}},computed:{pickerIcon:function(){return this.multiple?"multi-file":"single-file"},canPick:function(){return!this.isMax||this.isReplace},isMax:function(){return this.multiple&&this.value.length>=this.max||!this.multiple&&this.value},isReplace:function(){return-1!==this.pickIndex},miniWidth:function(){return this.$store.state.miniWidth},arrayValue:function(){return this.value?Array.isArray(this.value)?this.value:[this.value]:[]},mediaMultiple:function(){return!this.isReplace&&this.multiple}},methods:{onPick:function(){this.canPick&&(this.dialog=!0)},onPickConfirm:function(e){var t;e=e.map(this.formatReturn),this.multiple?this.isReplace?(t=this.value,t[this.pickIndex]=e[0]):t=this.value.concat(e.slice(0,this.max-this.value.length)):t=e[0],this.$emit("input",t),this.$refs.media.clearSelected(),this.dialog=!1},formatReturn:function(e){var t=this.valueFields?this.valueFields.split(","):[];return 0===t.length?e=Object(s["a"])({},e):(t.push("path"),e=u()(e,t)),t=Object(n["a"])(new Set(t)),this.flatValue&&1===t.length?e[t[0]]:e},remove:function(e){this.multiple?this.value.splice(e,1):this.$emit("input",null)},onReplace:function(e){this.pickIndex=e,this.onPick()}},watch:{dialog:function(e){e||(this.pickIndex=-1)}}},p=m,d=(a("9123"),a("a2f5"),a("2877")),h=Object(d["a"])(p,i,r,!1,null,"ba7273f8",null);t["a"]=h.exports},"502b":function(e,t,a){},9123:function(e,t,a){"use strict";a("1b23")},a2f5:function(e,t,a){"use strict";a("502b")}}]);
//# sourceMappingURL=chunk-4fc2d856.6c49de38.js.map