(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46120e93"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},1935:function(t,e,a){},"41d8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"resize",rawName:"v-resize",value:t.setImgSize,expression:"setImgSize"}],staticClass:"file-preview flex-box"},[t.path?t.isImage?a("img",{staticClass:"img",attrs:{alt:t.path,title:t.path,src:t.url}}):a("div",{staticClass:"path",attrs:{title:t.path}},[t._v(t._s(t.path))]):a("div",{staticClass:"invalid",attrs:{title:t.path}},[t._v(" Invalid path ")]),a("div",{staticClass:"actions flex-box"},[a("space",{attrs:{size:"4"}},[t.disableView?t._e():[t.isImage?a("a-icon",{attrs:{type:"eye",title:"Preview"},on:{click:function(e){return e.stopPropagation(),t.onPreview.apply(null,arguments)}}}):a("a",{attrs:{href:t.url,target:"_blank",title:"Preview"}},[a("a-icon",{attrs:{type:"eye"}})],1)],t._t("default",null,{file:t.formattedFile})],2)],1)])},n=[],r=a("53ca"),s=a("5530"),o=a("e210"),c=a("2f62"),l=a("f771"),u=a("a818"),d=a("1977"),f={name:"FilePreview",components:{Space:d["a"]},data:function(){return{formattedFile:{path:"",url:""},width:0,height:0}},props:Object(s["a"])({file:null,disableView:Boolean},Object(c["c"])(["miniWidth"])),computed:{isImage:function(){return Object(o["b"])(this.formattedFile.path)},url:function(){return this.formattedFile.url},path:function(){return this.formattedFile.path}},methods:{toUpperCase:function(t){return t.toUpperCase()},formatFile:function(){var t=this.file;t&&("string"===typeof t?this.formattedFile={path:t,url:Object(l["i"])(t)}:"object"===Object(r["a"])(t)&&(this.formattedFile=Object.assign({},t,{path:t.path||"",url:t.url||Object(l["i"])(t.path)})))},onPreview:function(){var t=this;this.$createElement;this.isImage&&(this.setImgSize(),u["a"]["new"]({propsData:{wrapClassName:"image-preview-dialog",width:"auto",content:function(e){return e("img",{attrs:{src:t.formattedFile.url,width:t.width,height:t.height}})}}}))},setImgSize:function(){if(this.isImage){var t=Math.min(1e3,.9*window.innerWidth),e=.9*window.innerHeight,a=this.$el.querySelector(".img");this.width=a.naturalWidth||1,this.height=a.naturalHeight||1;var i=this.width/this.height;this.width>t&&(this.width=t,this.height=this.width/i),this.height>e&&(this.height=e,this.width=this.height*i)}}},watch:{file:{handler:function(){this.formatFile()},immediate:!0}}},h=f,p=(a("ad57"),a("4695"),a("2877")),m=Object(p["a"])(h,i,n,!1,null,"791c4cb8",null);e["a"]=m.exports},4695:function(t,e,a){"use strict";a("1935")},"53ca":function(t,e,a){"use strict";a.d(e,"a",(function(){return i}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}},"841c":function(t,e,a){"use strict";var i=a("c65b"),n=a("d784"),r=a("825a"),s=a("1d80"),o=a("129f"),c=a("577e"),l=a("dc4a"),u=a("14c3");n("search",(function(t,e,a){return[function(e){var a=s(this),n=void 0==e?void 0:l(e,t);return n?i(n,e,a):new RegExp(e)[t](c(a))},function(t){var i=r(this),n=c(t),s=a(e,i,n);if(s.done)return s.value;var l=i.lastIndex;o(l,0)||(i.lastIndex=0);var d=u(i,n);return o(i.lastIndex,l)||(i.lastIndex=l),null===d?-1:d.index}]}))},ad57:function(t,e,a){"use strict";a("f829")},deaf:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("page-content",[a("space",{staticClass:"my-1"},[a("search-form",{attrs:{fields:t.search}}),a("cache-config")],1),a("a-table",{attrs:{"row-key":"id","data-source":t.configs,bordered:"",scroll:{x:1600},pagination:!1,"table-layout":"fixed"}},[a("a-table-column",{attrs:{title:"ID","data-index":"id",width:60}}),a("a-table-column",{attrs:{title:"Name","data-index":"category.name",width:150}}),a("a-table-column",{attrs:{title:"Name",width:150},scopedSlots:t._u([{key:"default",fn:function(e){return[a("quick-edit",{attrs:{id:e.id,field:"name",update:t.updateConfig},model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"record.name"}})]}}])}),a("a-table-column",{attrs:{title:"Slug",width:150},scopedSlots:t._u([{key:"default",fn:function(e){return[a("quick-edit",{attrs:{id:e.id,field:"slug",update:t.updateConfig},model:{value:e.slug,callback:function(a){t.$set(e,"slug",a)},expression:"record.slug"}})]}}])}),a("a-table-column",{attrs:{title:"Type","data-index":"type_text",width:100}}),a("a-table-column",{attrs:{title:"Data"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.type===t.CONFIG_TYPES.FILE?a("div",{staticStyle:{display:"flex","overflow-x":"auto"}},t._l(t.arrayWrap(e.value),(function(t,e){return a("file-preview",{key:e,attrs:{file:t}})})),1):a("span",[t._v(t._s(e.value))])]}}])}),a("a-table-column",{attrs:{title:"Created At","data-index":"created_at",width:180}}),a("a-table-column",{attrs:{title:"Updated At","data-index":"updated_at",width:180}}),a("a-table-column",{attrs:{title:"Actions",width:100},scopedSlots:t._u([{key:"default",fn:function(e){return[a("space",[a("router-link",{attrs:{to:"/configs/"+e.id+"/edit"}},[t._v("Edit")]),a("lz-popconfirm",{attrs:{confirm:t.destroyConfig(e.id)}},[a("a",{staticClass:"error-color",attrs:{href:"javascript:void(0);"}},[t._v("Delete")])])],1)]}}])})],1),a("lz-pagination",{attrs:{page:t.page}})],1)},n=[],r=a("1da1"),s=a("5530"),o=(a("ac1f"),a("841c"),a("96cf"),a("560e")),c=a("1977"),l=a("0e03"),u=a("c001"),d=a("7e65"),f=a("eff2"),h=a("f771"),p=a("715f"),m=a("41d8"),g=a("5431"),b=a("dd4d"),v={name:"Index",scroll:!0,components:{CacheConfig:b["a"],QuickEdit:p["a"],LzPopconfirm:f["a"],PageContent:u["a"],LzPagination:l["a"],Space:c["a"],SearchForm:d["a"],FilePreview:m["a"]},data:function(){return{configs:[],page:null,search:[{field:"category_id",label:"Category",type:"select",options:[],labelField:"name",valueField:"id"},{field:"name",label:"Name"},{field:"slug",label:"Slug"}]}},computed:Object(s["a"])({},Object(g["f"])("CONFIG_TYPES")),created:function(){this.getConfigCategories()},methods:{arrayWrap:h["a"],destroyConfig:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["c"])(t);case 2:e.configs=Object(h["r"])(e.configs,(function(e){return e.id===t}));case 3:case"end":return a.stop()}}),a)})))},updateConfig:o["n"],getConfigCategories:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["g"])({all:1});case 2:a=e.sent,i=a.data,t.search[0].options=i;case 5:case"end":return e.stop()}}),e)})))()}},watch:{$route:{handler:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i,n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(o["h"])(t.query);case 2:i=a.sent,n=i.data,r=n.data,s=n.meta,e.configs=r,e.page=s,e.$scrollResolve();case 9:case"end":return a.stop()}}),a)})))()},immediate:!0}}},w=v,y=a("2877"),x=Object(y["a"])(w,i,n,!1,null,null,null);e["default"]=x.exports},f829:function(t,e,a){}}]);
//# sourceMappingURL=chunk-46120e93.dbae98f3.js.map